% Minimal Working Example: LaTeX Best Practices
% Demonstrates proper package loading order and modern setup
% Compile with: latexmk -pdf best_practices_article.tex

\documentclass[
    12pt,                      % Font size
    a4paper,                   % Paper size
    twoside                    % Two-sided layout
]{article}

% ====================================================================
% ENCODING & FONTS (Load first for pdfLaTeX)
% ====================================================================
\usepackage[utf8]{inputenc}    % UTF-8 input encoding
\usepackage[T1]{fontenc}       % T1 font encoding for better hyphenation
\usepackage{lmodern}           % Latin Modern fonts (improved Computer Modern)

% ====================================================================
% LANGUAGE & LOCALIZATION
% ====================================================================
\usepackage[english]{babel}    % Language support (or: american, british, etc.)
\usepackage{csquotes}          % Context-sensitive quotation marks

% ====================================================================
% MATHEMATICS
% ====================================================================
\usepackage{amsmath}           % AMS math environments (load early)
\usepackage{amssymb}           % AMS symbols
\usepackage{amsthm}            % Theorem environments

% Define theorem environments
\newtheorem{theorem}{Theorem}[section]
\newtheorem{lemma}[theorem]{Lemma}
\newtheorem{proposition}[theorem]{Proposition}
\newtheorem{corollary}[theorem]{Corollary}
\theoremstyle{definition}
\newtheorem{definition}[theorem]{Definition}
\newtheorem{example}[theorem]{Example}

% ====================================================================
% GRAPHICS & FIGURES
% ====================================================================
\usepackage{graphicx}          % Include graphics
\usepackage{float}             % Improved float control (H placement)
\usepackage{caption}           % Customizable captions
\usepackage{subcaption}        % Subfigures

% Set graphics path (optional)
% \graphicspath{{./figures/}}

% ====================================================================
% TABLES
% ====================================================================
\usepackage{booktabs}          % Professional table rules (\toprule, \midrule, \bottomrule)
\usepackage{array}             % Extended column definitions
\usepackage{multirow}          % Multi-row cells

% ====================================================================
% TIKZ & PGFPLOTS (If needed)
% ====================================================================
\usepackage{tikz}              % TikZ graphics
\usetikzlibrary{
    positioning,               % Better node positioning
    arrows.meta,               % Modern arrow tips
    shapes,                    % Geometric shapes
    calc                       % Coordinate calculations
}
\usepackage{pgfplots}          % Data plotting
\pgfplotsset{compat=1.18}      % Set compatibility level

% ====================================================================
% BIBLIOGRAPHY (biblatex + biber)
% ====================================================================
\usepackage[
    backend=biber,
    style=authoryear,
    sorting=nyt,
    maxbibnames=99,
    maxcitenames=2,
    giveninits=true,
    doi=true,
    url=true
]{biblatex}
\addbibresource{references.bib} % Bibliography file

% ====================================================================
% LISTS
% ====================================================================
\usepackage{enumitem}          % Customizable lists

% ====================================================================
% CODE LISTINGS (If needed)
% ====================================================================
\usepackage{listings}          % Code listings
\lstset{
    basicstyle=\ttfamily\small,
    keywordstyle=\color{blue},
    commentstyle=\color{gray},
    stringstyle=\color{red},
    numbers=left,
    numberstyle=\tiny,
    frame=single,
    breaklines=true
}

% Or use minted for better syntax highlighting (requires -shell-escape):
% \usepackage{minted}

% ====================================================================
% COLORS
% ====================================================================
\usepackage[dvipsnames]{xcolor} % Extended color support

% ====================================================================
% PAGE LAYOUT
% ====================================================================
\usepackage{geometry}          % Page dimensions
\geometry{
    a4paper,
    left=2.5cm,
    right=2.5cm,
    top=3cm,
    bottom=3cm
}

% ====================================================================
% HYPERLINKS (Load near end, before cleveref)
% ====================================================================
\usepackage[
    colorlinks=true,
    linkcolor=blue,
    citecolor=blue,
    urlcolor=blue,
    pdftitle={LaTeX Best Practices Example},
    pdfauthor={Your Name},
    pdfsubject={LaTeX Document},
    pdfkeywords={LaTeX, Best Practices, Template}
]{hyperref}

% ====================================================================
% CROSS-REFERENCES (Load after hyperref)
% ====================================================================
\usepackage{cleveref}          % Smart cross-references (\cref, \Cref)

% ====================================================================
% TYPOGRAPHY (Load last)
% ====================================================================
\usepackage{microtype}         % Improved typography (character protrusion, font expansion)

% ====================================================================
% DOCUMENT METADATA
% ====================================================================
\title{LaTeX Best Practices and Modern Setup}
\author{Your Name\thanks{Email: your.email@example.com}}
\date{\today}

% ====================================================================
% BEGIN DOCUMENT
% ====================================================================
\begin{document}

\maketitle

\begin{abstract}
    This document demonstrates best practices for LaTeX document
    preparation, including proper package loading order, modern
    bibliography management, cross-referencing, and typography.
    Use this as a template for academic articles and reports.
\end{abstract}

\tableofcontents

\section{Introduction}
\label{sec:introduction}

This document illustrates modern LaTeX best practices. As \textcite{knuth1984texbook}
explains, proper document structure is essential for high-quality typesetting.

We'll cover several topics in \cref{sec:packages,sec:figures,sec:tables,sec:math,sec:citations}.

\section{Package Loading Order}
\label{sec:packages}

The order of package loading matters. Follow this sequence:

\begin{enumerate}
    \item Encoding and fonts (\texttt{inputenc}, \texttt{fontenc})
    \item Language support (\texttt{babel}, \texttt{csquotes})
    \item Mathematics (\texttt{amsmath}, \texttt{amssymb}, \texttt{amsthm})
    \item Graphics and floats (\texttt{graphicx}, \texttt{float}, \texttt{caption})
    \item Tables (\texttt{booktabs}, \texttt{array})
    \item TikZ and pgfplots (if needed)
    \item Bibliography (\texttt{biblatex})
    \item Page layout (\texttt{geometry})
    \item Hyperlinks (\texttt{hyperref}) — load near end
    \item Cross-references (\texttt{cleveref}) — load after hyperref
    \item Typography (\texttt{microtype}) — load last
\end{enumerate}

\section{Figures and Graphics}
\label{sec:figures}

\Cref{fig:example} shows a TikZ diagram. Note the use of \verb|\cref{}|
for smart cross-references.

\begin{figure}[htbp]
    \centering
    \begin{tikzpicture}
        \draw[->] (0,0) -- (4,0) node[right] {$x$};
        \draw[->] (0,0) -- (0,3) node[above] {$y$};
        \draw[domain=0:3.5,smooth,variable=\x,blue,thick]
            plot ({\x},{sin(\x r)});
        \node[blue] at (2,1.5) {$y = \sin(x)$};
    \end{tikzpicture}
    \caption{Example TikZ figure}
    \label{fig:example}
\end{figure}

\section{Tables}
\label{sec:tables}

\Cref{tab:data} demonstrates professional table formatting using
\texttt{booktabs}. Notice the absence of vertical lines and the use
of \verb|\toprule|, \verb|\midrule|, and \verb|\bottomrule|.

\begin{table}[htbp]
    \centering
    \caption{Sample data table}
    \label{tab:data}
    \begin{tabular}{lcc}
        \toprule
        Method & Accuracy (\%) & Time (s) \\
        \midrule
        Algorithm A & 94.2 & 1.3 \\
        Algorithm B & 96.7 & 2.8 \\
        Algorithm C & 95.1 & 1.9 \\
        \bottomrule
    \end{tabular}
\end{table}

\section{Mathematics}
\label{sec:math}

Use \texttt{amsmath} environments for equations. \Cref{eq:euler}
shows Euler's identity.

\begin{equation}
    e^{i\pi} + 1 = 0
    \label{eq:euler}
\end{equation}

For multi-line equations, use \texttt{align}:

\begin{align}
    f(x) &= x^2 + 2x + 1 \\
         &= (x+1)^2
    \label{eq:quadratic}
\end{align}

\begin{theorem}[Pythagorean Theorem]
    \label{thm:pythagoras}
    For a right triangle with legs $a$ and $b$ and hypotenuse $c$,
    \begin{equation*}
        a^2 + b^2 = c^2
    \end{equation*}
\end{theorem}

\begin{proof}
    Left as an exercise for the reader.
\end{proof}

\section{Citations and Bibliography}
\label{sec:citations}

Use \verb|\textcite{}| for textual citations: \textcite{lamport1994latex}
describes LaTeX fundamentals.

Use \verb|\parencite{}| for parenthetical citations: LaTeX is widely
used in academia \parencite{mittelbach2004latex}.

Multiple citations: \parencite{knuth1984texbook,lamport1994latex}.

\section{Cross-References}

Use \texttt{cleveref} for smart references:

\begin{itemize}
    \item \verb|\cref{sec:introduction}| → \cref{sec:introduction}
    \item \verb|\cref{fig:example}| → \cref{fig:example}
    \item \verb|\cref{tab:data}| → \cref{tab:data}
    \item \verb|\cref{eq:euler}| → \cref{eq:euler}
    \item \verb|\cref{thm:pythagoras}| → \cref{thm:pythagoras}
\end{itemize}

Capitalize with \verb|\Cref{}|: \Cref{sec:introduction}

\section{Code Listings}

\begin{lstlisting}[language=Python, caption={Python example}]
def factorial(n):
    """Compute n! recursively."""
    if n <= 1:
        return 1
    return n * factorial(n - 1)
\end{lstlisting}

\section{Typography}

The \texttt{microtype} package improves typography through:

\begin{itemize}
    \item Character protrusion (punctuation hangs into margin)
    \item Font expansion (subtle width adjustments for better justification)
    \item Improved hyphenation
\end{itemize}

These micro-adjustments are subtle but produce noticeably better output.

\section{Quotations}

Use \texttt{csquotes} for proper quotation marks: \enquote{This is a quote.}

Nested quotes work correctly: \enquote{She said, \enquote{Hello!}}

\section{Conclusion}

Following these best practices produces professional, well-structured
LaTeX documents. For more information, see \textcite{mittelbach2004latex}.

% Print bibliography
\printbibliography

\end{document}

% ====================================================================
% Notes:
% 1. Create references.bib with sample entries (see modern_bibliography.tex)
% 2. Compile with: latexmk -pdf best_practices_article.tex
% 3. For XeLaTeX/LuaLaTeX: remove inputenc/fontenc, add fontspec
% 4. Customize as needed for your specific requirements
% ====================================================================
